!function(t){function i(t,i){this.canvas=t,this.player=new Player(i)}t.Game=i,i.prototype.init=function(t,i){this.width=t,this.height=i,requestAnimationFrame(this.update.bind(this))},i.prototype.update=function(){this.player.update(),this.collideWithWorld(this.player),this.gravity(this.player),requestAnimationFrame(this.update.bind(this))},i.prototype.collideWithWorld=function(t){t.y+t.height>this.height&&(t.y=this.height-t.height,t.inAir=!1),t.x<0?t.x=0:t.x+t.width>this.width&&(t.x=this.width-t.width)},i.prototype.gravity=function(t){t.vy+=.8}}(window),function(t){function i(){this.up=!1,this.left=!1,this.right=!1,this.down=!1,this.space=!1}t.Keybard=i,i.prototype.init=function(){t.addEventListener("keydown",this.keyDown.bind(this),!1),t.addEventListener("keyup",this.keyUp.bind(this),!1)},i.prototype.dealWithKeybard=function(t,i){switch(t.keyCode){case 37:this.left=i;break;case 38:this.up=i;break;case 39:this.right=i;break;case 40:this.down=i;break;case 32:this.space=i}},i.prototype.keyDown=function(t){this.dealWithKeybard(t,!0)},i.prototype.keyUp=function(t){this.dealWithKeybard(t,!1)}}(window),function(t){function i(t){this.x=20,this.y=20,this.width=20,this.height=20,this.color="white",this.keybard=t,this.friction=.7,this.speed=7,this.jump=-18,this.vy=0,this.vx=0,this.inAir=!1}t.Player=i,i.prototype.draw=function(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle="white",t.fill(),t.closePath()},i.prototype.update=function(){this.keybard.right&&(this.vx+=this.speed),this.keybard.left&&(this.vx-=this.speed),this.vx*=this.friction,this.x+=this.vx,this.keybard.up&&!this.inAir&&(this.vy=this.jump,this.inAir=!0),this.y+=this.vy}}(window),function(t){function i(t){this.game=t,this.canvas=t.canvas,this.c=t.canvas.getContext("2d")}t.Render=i,i.prototype.init=function(){requestAnimationFrame(this.draw.bind(this)),this.width=this.game.width,this.height=this.game.height,this.canvas.width=this.width,this.canvas.height=this.height},i.prototype.draw=function(){this.canvas.width=this.width,this.game.player.draw(this.c),requestAnimationFrame(this.draw.bind(this))}}(window),function(t,i){var h=new Keybard;h.init();var e=new Game(i.getElementById("game"),h),s=new Render(e);e.init(640,480),s.init(640,480)}(window,document);